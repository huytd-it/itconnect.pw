<div class="tw-p-5 tw-flex tw-gap-3 tw-items-center tw-mt-3 tw-min-h-[120px]">
  <ng-select
    class="tw-min-w-[100px]"
    appearance="outline"
    placeholder="Hiển thi"
    [bindLabel]="'name'"
    [items]="groupByList"
    [clearable]="false"
    [(ngModel)]="groupBy"
    (ngModelChange)="onChange()"
  ></ng-select>
  <ng-select
    class="tw-min-w-[100px]"
    appearance="outline"
    placeholder="Thời gian"
    [bindLabel]="'name'"
    [items]="typeList"
    [clearable]="false"
    [(ngModel)]="typeSelected"
    (ngModelChange)="onChangeType()"
  ></ng-select>

  <ng-container *ngIf="typeSelected.value === 'date-range'">
    <mat-form-field appearance="outline">
      <mat-label>Từ</mat-label>
      <input
        matInput
        max="{{currentDate | date:'yyyy-MM-dd'}}"
        [matDatepicker]="picker1"
        [(ngModel)]="minDate"
        (ngModelChange)="onChange()"
      >
      <mat-hint>DD/MM/YYYY</mat-hint>
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
    <mat-icon class="tw-text-gray-400 tw-mt-[-16px]">arrow_right</mat-icon>
    <mat-form-field appearance="outline">
      <mat-label>Đến</mat-label>
      <input
        matInput
        [matDatepicker]="picker2"
        [(ngModel)]="maxDate"
        (ngModelChange)="onChange()"
        min="{{minDate | date:'yyyy-MM-dd'}}"
        max="{{currentDate | date:'yyyy-MM-dd'}}"
      >
      <mat-hint>DD/MM/YYYY</mat-hint>
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
  </ng-container>
</div>

<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">people</mat-icon>
      Tài khoản
    </ng-template>
    <ng-template matTabContent>
      <div class="tw-p-3 tw-mt-5">
        <app-chart-user
          [start]="minDateValid"
          [end]="maxDateValid"
          [group]="groupBy.value"
        ></app-chart-user>
      </div>
    </ng-template>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">work</mat-icon>
      Công việc
    </ng-template>
    <ng-template matTabContent>
      <div class="tw-p-3 tw-mt-5">
        <app-chart-job-ov
          [start]="minDateValid"
          [end]="maxDateValid"
          [group]="groupBy.value"
        ></app-chart-job-ov>
      </div>
    </ng-template>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">work_history</mat-icon>
      Tương tác
    </ng-template>
    <ng-template matTabContent>
      <div class="tw-p-3 tw-mt-5">
        <app-chart-job
          [start]="minDateValid"
          [end]="maxDateValid"
          [group]="groupBy.value"
        ></app-chart-job>
      </div>
    </ng-template>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">trending_up</mat-icon>
      Thịnh hành
    </ng-template>
    <ng-template matTabContent>
      <div class="tw-p-3 tw-mt-5">
      </div>
    </ng-template>
  </mat-tab>
</mat-tab-group>

