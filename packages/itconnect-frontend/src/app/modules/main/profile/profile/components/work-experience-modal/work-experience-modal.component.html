<h1 mat-dialog-title>Kinh nghiệm làm việc</h1>
<div mat-dialog-content class="tw-w-[95vw] md:tw-w-[600px] c-scrollbar" [formGroup]="form">
  <div class="tw-h-4"></div>
  <app-easy-select
    #selectCompany
    [label]="'Công ty'"
    [loadMoreFn]="fetchCompanyTag"
    [formControlName]="FormField.Company"
    [isAddTag]="false"
    (addTag)="onAddCompanyTag($event)"
    appendTo="app-root"
  ></app-easy-select>
  <mat-error *ngIf="isControlError(FormField.Company, 'required')" class="tw-mt-[-14px] tw-text-[11px] tw-ml-2">
    Công ty là bắt buộc
  </mat-error>
  <div class="tw-mb-3 tw-mt-[-14px]">
    <app-add-company (onAdd)="onSelectCompany($event)"></app-add-company>
  </div>

  <app-easy-select
    [label]="'Trình độ (Tùy chọn)'"
    [isAddTag]="false"
    [loadMoreFn]="fetchJobLevel"
    [formControlName]="FormField.JobLevel"
    appendTo="app-root"
  ></app-easy-select>

  <app-easy-select
    [label]="'Hình thức làm việc (Tùy chọn)'"
    [isAddTag]="false"
    [loadMoreFn]="fetchWorkFrom"
    [formControlName]="FormField.WorkFrom"
    appendTo="app-root"
  ></app-easy-select>

  <app-easy-select
    [label]="'Loại công việc (Tùy chọn)'"
    [isAddTag]="false"
    [loadMoreFn]="fetchJobType"
    [formControlName]="FormField.JobType"
    appendTo="app-root"
  ></app-easy-select>


  <div class="tw-flex tw-flex-wrap tw-gap-3">
    <app-input-month-year
      class="tw-flex-1"
      [label]="'Ngày bắt đầu'"
      [form]="form"
      [name]="FormField.StartDate"
      [maxDate]="maxDate"
    ></app-input-month-year>
    <span class="tw-mt-[-16px] md:tw-mt-5 tw-w-full md:tw-w-auto tw-flex tw-items-center tw-justify-center md:tw-inline-block">
      <fa-icon [icon]="faArrowRight" class="tw-hidden md:tw-inline-block"></fa-icon>
      <fa-icon [icon]="faArrowDown" class="tw-inline-block md:tw-hidden"></fa-icon>
    </span>
    <div class="tw-flex-1">
      <app-input-month-year
        class="tw-w-full"
        [label]="'Ngày kết thúc'"
        [form]="form"
        [name]="FormField.EndDate"
        [minDate]="minDate"
        [maxDate]="maxDate"
      ></app-input-month-year>
      <mat-slide-toggle
        class="tw-ml-2 md:tw-ml-0"
        color="primary"
        [ngModelOptions]="{standalone: true}"
        [(ngModel)]="isToggleWorking"
        (ngModelChange)="onChangeToggleWorking()"
      >
        <div class="tw-font-thin tw-text-[12px]">Đến hiện tại</div>
      </mat-slide-toggle>
    </div>
  </div>

  <div class="tw-mt-5">
    <div class="tw-ml-2 tw-mb-3">
      Mô tả (tùy chọn)
    </div>
    <app-editor-c1 [form]="form" [name]="FormField.Content"></app-editor-c1>
  </div>

</div>
<div mat-dialog-actions>
  <div class="tw-flex tw-justify-center tw-w-full tw-mt-10 tw-mb-3">
    <ng-container *ngIf="!isAddForce">
      <button mat-button (click)="onClose()">Đóng</button>
      <button mat-stroked-button cdkFocusInitial color="primary" (click)="onSubmit()">Lưu</button>
    </ng-container>
    <ng-container *ngIf="isAddForce">
      <div class="tw-w-[90vw] md:tw-w-[550px]">
        <div class="tw-text-red-500 tw-text-[13px]">
          {{msgForce}}
        </div>
        <div class="tw-text-[13px]">
          Bạn có muốn kết thúc làm việc ở công ty bị trùng lập không ?
        </div>
        <div class="tw-my-3 tw-text-center">
          <button mat-button (click)="onClose()">Đóng</button>
          <button mat-button (click)="isAddForce = false">Không</button>
          <button mat-stroked-button cdkFocusInitial color="warn" (click)="onSubmit()">Có, tiếp tục</button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
