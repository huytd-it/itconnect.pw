<div class="tw-mt-4 tw-flex tw-flex-wrap tw-gap-2 tw-items-center">
  <ng-container
    *ngFor="let item of items"
  >
    <button
      type="button"
      class="tw-p-2 tw-rounded-md tw-border tw-relative tw-mr-3 tw-flex tw-items-center"
      [matTooltip]="item[bindLabel]"
      (click)="!readOnly && removeTag(item)"
    >
      <div
        *ngIf="!readOnly"
        class="
          tw-absolute tw-right-[-5px] tw-top-[-5px] tw-font-medium tw-w-[15px] tw-h-[15px] tw-text-[10px]
          tw-rounded-full tw-bg-primaryColor tw-text-white tw-flex tw-justify-center tw-items-center
        "
      >
        x
      </div>
      <span class="tw-inline-block tw-whitespace-nowrap tw-max-w-[100px] tw-overflow-hidden tw-overflow-ellipsis">
          {{item[bindLabel]}}
        </span>
    </button>
  </ng-container>

  <button
    mat-button
    color="primary"
    type="button"
    *ngIf="!isAdding && !readOnly"
    (click)="isAdding = true"
  >
    + Thêm
  </button>
  <div class="tw-min-w-[200px] tw-mt-[-3px] tw-max-w-[300px]" *ngIf="isAdding">
    <app-easy-select
      [label]="'Chọn hoặc thêm tag'"
      [autoFocus]="true"
      [loadMoreFn]="loadMoreFn"
      [isAddTag]="hasAddTag"
      [appendTo]="appendTo"
      (addTag)="addTag($event)"
      (onBlur)="isAdding = false"
      (onChangeE)="onSelect($event)"
    ></app-easy-select>
  </div>
</div>
